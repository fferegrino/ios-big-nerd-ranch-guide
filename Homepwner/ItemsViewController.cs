// This file has been autogenerated from a class added in the UI designer.

using System;

using Foundation;
using UIKit;

namespace Homepwner
{
	public partial class ItemsViewController : UITableViewController
	{
		public ItemStore ItemStore { get; set; }

		public ItemsViewController (IntPtr handle) : base (handle)
		{
		}

		public override void ViewDidLoad()
		{
			base.ViewDidLoad();

			var statusBarHeight = UIApplication.SharedApplication.StatusBarFrame.Height;

			var insets = new UIEdgeInsets( statusBarHeight, 0, 0, 0);
			TableView.ContentInset = insets;
			TableView.ScrollIndicatorInsets = insets;
		}

		public override nint RowsInSection(UITableView tableView, nint section)
		{
			return ItemStore.AllItems.Count +1;
		}

		public override UITableViewCell GetCell(UITableView tableView, NSIndexPath indexPath)
		{
			if (indexPath.Row < ItemStore.AllItems.Count)
			{
				var cell = tableView.DequeueReusableCell("UITableViewCell", indexPath);
				var item = ItemStore.AllItems[indexPath.Row];

				cell.TextLabel.Text = item.Name;
				cell.DetailTextLabel.Text = item.ValueInDollars.ToString();

				return cell;
			}
			else
			{
				return tableView.DequeueReusableCell("NoMoreItemsCellView", indexPath);
			}

		}
	}
}
